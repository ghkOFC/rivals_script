--[[ 
Script para Dead Rails com Sistema de Key
Inclui: Fly, Noclip, ESP, Teleporte, Vida Infinita, Combust√≠vel Infinito, Energia Infinita, Trem
]]

-- Prote√ß√£o
local CoreGui = game:GetService("CoreGui")
local function safeGuiParent()
    return (gethui and gethui()) or CoreGui
end

if safeGuiParent():FindFirstChild("DR_GUI_6659") then
    safeGuiParent()["DR_GUI_6659"]:Destroy()
end

-- GUI de Key
local KeyGui = Instance.new("ScreenGui")
KeyGui.Name = "DR_GUI_6659"
KeyGui.Parent = safeGuiParent()
KeyGui.ResetOnSpawn = false

local KeyFrame = Instance.new("Frame")
KeyFrame.Size = UDim2.new(0, 300, 0, 200)
KeyFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
KeyFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
KeyFrame.BorderSizePixel = 0
KeyFrame.Parent = KeyGui

local KeyTitle = Instance.new("TextLabel")
KeyTitle.Size = UDim2.new(1, 0, 0, 40)
KeyTitle.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
KeyTitle.Text = "üîê Insira a Key para desbloquear"
KeyTitle.TextColor3 = Color3.new(1, 1, 1)
KeyTitle.TextSize = 18
KeyTitle.Parent = KeyFrame

local KeyBox = Instance.new("TextBox")
KeyBox.Size = UDim2.new(0.8, 0, 0, 30)
KeyBox.Position = UDim2.new(0.1, 0, 0, 60)
KeyBox.PlaceholderText = "Digite a key aqui..."
KeyBox.Text = ""
KeyBox.TextSize = 16
KeyBox.TextColor3 = Color3.new(1, 1, 1)
KeyBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
KeyBox.Parent = KeyFrame

local CopyBtn = Instance.new("TextButton")
CopyBtn.Size = UDim2.new(0.8, 0, 0, 30)
CopyBtn.Position = UDim2.new(0.1, 0, 0, 100)
CopyBtn.Text = "üîó Obter Key"
CopyBtn.TextSize = 16
CopyBtn.TextColor3 = Color3.new(1, 1, 1)
CopyBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
CopyBtn.Parent = KeyFrame
CopyBtn.MouseButton1Click:Connect(function()
    setclipboard("https://loot-link.com/s?KCyoj6LG")
end)

local EnviarBtn = Instance.new("TextButton")
EnviarBtn.Size = UDim2.new(0.8, 0, 0, 30)
EnviarBtn.Position = UDim2.new(0.1, 0, 0, 140)
EnviarBtn.Text = "‚úÖ Enviar Key"
EnviarBtn.TextSize = 16
EnviarBtn.TextColor3 = Color3.new(1, 1, 1)
EnviarBtn.BackgroundColor3 = Color3.fromRGB(40, 130, 40)
EnviarBtn.Parent = KeyFrame

-- Efeito de Fade In
KeyFrame.BackgroundTransparency = 1
game:GetService("TweenService"):Create(KeyFrame, TweenInfo.new(0.5, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {BackgroundTransparency = 0}):Play()

EnviarBtn.MouseButton1Click:Connect(function()
    if KeyBox.Text:lower() == "baitola" then
        -- Remove a janela de key
        KeyFrame.Visible = false
        wait(0.5)
        
        -- Menu Principal
        local MainFrame = Instance.new("Frame")
        MainFrame.Size = UDim2.new(0, 300, 0, 400)
        MainFrame.Position = UDim2.new(0, 50, 0.5, -200)
        MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        MainFrame.BorderSizePixel = 0
        MainFrame.Parent = KeyGui

        local Title = Instance.new("TextLabel")
        Title.Size = UDim2.new(1, 0, 0, 40)
        Title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        Title.Text = "üõ†Ô∏è Menu Dead Rails"
        Title.TextColor3 = Color3.new(1, 1, 1)
        Title.TextSize = 20
        Title.Parent = MainFrame

        local function criarBotao(nome, ordem, callback)
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -20, 0, 30)
            btn.Position = UDim2.new(0, 10, 0, 50 + (ordem - 1) * 35)
            btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            btn.TextColor3 = Color3.new(1, 1, 1)
            btn.Text = nome
            btn.TextSize = 16
            btn.Parent = MainFrame

            -- Efeito de Anima√ß√£o (fade in)
            btn.TextTransparency = 1
            game:GetService("TweenService"):Create(btn, TweenInfo.new(0.5, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {TextTransparency = 0}):Play()
            
            -- Anima√ß√£o do bot√£o de Zoom
            btn.MouseEnter:Connect(function()
                game:GetService("TweenService"):Create(btn, TweenInfo.new(0.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {Size = UDim2.new(1, -20, 0, 40)}):Play()
            end)
            btn.MouseLeave:Connect(function()
                game:GetService("TweenService"):Create(btn, TweenInfo.new(0.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {Size = UDim2.new(1, -20, 0, 30)}):Play()
            end)

            btn.MouseButton1Click:Connect(callback)
        end

        -- Sistema de Vida Infinita
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        
        humanoid.HealthChanged:Connect(function()
            if humanoid.Health < humanoid.MaxHealth then
                humanoid.Health = humanoid.MaxHealth
            end
        end)

        -- Sistema de Combust√≠vel Infinito (Trem)
        local function ativarCombustivelInfinito()
            local trem = character:FindFirstChild("Train") -- Supondo que o trem √© um modelo chamado "Train"
            if trem then
                local combustivel = trem:FindFirstChild("Fuel") -- Supondo que o combust√≠vel do trem √© controlado por esse atributo
                if combustivel then
                    combustivel.Value = math.huge -- Combust√≠vel infinito
                end
            end
        end

        -- Sistema de Energia Infinita
        local function ativarEnergiaInfinita()
            -- Vamos assumir que a energia √© controlada de forma similar ao combust√≠vel
            local energia = character:FindFirstChild("Energia") -- Exemplo de energia
            if energia then
                energia.Value = math.huge -- Energia infinita
            end
        end

        -- Ativar os sistemas de combust√≠vel e energia infinita
        ativarCombustivelInfinito()
        ativarEnergiaInfinita()

        -- Criando os bot√µes no menu
        criarBotao("Ir para o Castelo", 1, function()
            teleportar(Vector3.new(100, 10, 100))
        end)

        criarBotao("Ir para Cidade Abandonada", 2, function()
            teleportar(Vector3.new(-150, 10, 200))
        end)

        criarBotao("Ir para o Laborat√≥rio", 3, function()
            teleportar(Vector3.new(250, 10, -100))
        end)

        criarBotao("Ir para o Final", 4, function()
            teleportar(Vector3.new(0, 10, 0))
        end)

        -- Bot√£o para Fly
        local flying = false
        criarBotao("Ativar Fly", 5, function()
            local player = game.Players.LocalPlayer
            local char = player.Character or player.CharacterAdded:Wait()
            local hrp = char:WaitForChild("HumanoidRootPart")
            flying = not flying
            if flying then
                local bv = Instance.new("BodyVelocity")
                bv.Name = "FlyVelocity"
                bv.MaxForce = Vector3.new(1, 1, 1) * 1e9
                bv.Velocity = Vector3.new(0, 50, 0)
                bv.Parent = hrp
            else
                if hrp:FindFirstChild("FlyVelocity") then
                    hrp:FindFirstChild("FlyVelocity"):Destroy()
                end
            end
        end)

        -- Bot√£o para Noclip
        local noclip = false
        criarBotao("Ativar Noclip", 6, function()
            noclip = not noclip
            game:GetService("RunService").Stepped:Connect(function()
                if noclip then
                    for _, v in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
                        if v:IsA("BasePart") and v.CanCollide then
                            v.CanCollide = false
                        end
                    end
                end
            end)
        end)

        -- Bot√£o de Minimizar/Maximizar
        local minimizado = false
        criarBotao("Minimizar/Maximizar", 7, function()
            for _, v in pairs(MainFrame:GetChildren()) do
                if v:IsA("TextButton") or v:IsA("TextLabel") then
                    if v ~= Title then v.Visible = not minimizado end
                end
            end
            minimizado = not minimizado
        end)
    else
        KeyBox.Text = "‚ùå Key incorreta"
    end
end)
